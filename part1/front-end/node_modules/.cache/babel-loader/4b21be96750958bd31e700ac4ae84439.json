{"ast":null,"code":"import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import{Header}from'./components/Header';import{DisplayBoard}from'./components/DisplayBoard';//----------------\nimport{Movies}from'./components/Movies';import CreateMovie from'./components/CreateMovie';import SearchMovie from'./components/SearchMovie';import{getAllMovies,createMovie}from'./services/MovieService';function App(){//--------------\nconst[search_data,setSearch_data]=useState({});const[movie,setMovie]=useState({});const[movies,setMovies]=useState([]);const[numberOfMovies,setNumberOfMovies]=useState(0);const movieCreate=e=>{createMovie(movie).then(response=>{console.log(response);setNumberOfMovies(numberOfMovies+1);});fetchAllMovies();/* */};const movieSearch=e=>{console.log(search_data.search_text);searchMovie(\"jok\").then(movies=>{console.log(movies.data);setMovies(movies.data);setNumberOfMovies(movies.data.length);});};const fetchAllMovies=()=>{getAllMovies().then(movies=>{console.log(movies);setMovies(movies);setNumberOfMovies(movies.length);});};useEffect(()=>{getAllMovies().then(movies=>{console.log(movies);setMovies(movies);setNumberOfMovies(movies.length);});},[]);const onChangeForm=e=>{if(e.target.name==='title'){movie.title=e.target.value;}else if(e.target.name==='genre'){movie.genre=e.target.value;}else if(e.target.name==='director'){movie.director=e.target.value;}else if(e.target.name==='release_year'){movie.release_year=e.target.value;}setMovie(movie);};const onChangeForm2=e=>{if(e.target.name==='search_text'){search_data.search_text=e.target.value;}setSearch_data(search_data);};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container mrgnbtm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(CreateMovie// user={user}\n,{movie:movie,onChangeForm:onChangeForm,createMovie:movieCreate})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(DisplayBoard,{numberOfMovies:numberOfMovies,getAllMovies:fetchAllMovies})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mrgnbtm\"},/*#__PURE__*/React.createElement(SearchMovie// user={user}\n,{movie:movie,onChangeForm:onChangeForm,searchMovie:movieSearch})),/*#__PURE__*/React.createElement(\"div\",{className:\"row mrgnbtm\"},/*#__PURE__*/React.createElement(Movies,{movies:movies})));}export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","DisplayBoard","Movies","CreateMovie","SearchMovie","getAllMovies","createMovie","App","search_data","setSearch_data","movie","setMovie","movies","setMovies","numberOfMovies","setNumberOfMovies","movieCreate","e","then","response","console","log","fetchAllMovies","movieSearch","search_text","searchMovie","data","length","onChangeForm","target","name","title","value","genre","director","release_year","onChangeForm2","createElement","className"],"sources":["C:/xampp/htdocs/back-end/react-nodejs-example/my-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\nimport { Header } from './components/Header'\r\nimport { DisplayBoard } from './components/DisplayBoard'\r\n\r\n//----------------\r\nimport { Movies } from './components/Movies'\r\nimport CreateMovie from './components/CreateMovie'\r\nimport SearchMovie from './components/SearchMovie'\r\nimport { getAllMovies, createMovie } from './services/MovieService'\r\n\r\nfunction App() {\r\n\r\n  //--------------\r\n  const [search_data, setSearch_data] = useState({})\r\n  const [movie, setMovie] = useState({})\r\n  const [movies, setMovies] = useState([])\r\n  const [numberOfMovies, setNumberOfMovies] = useState(0)\r\n\r\n  const movieCreate = (e) => {\r\n\r\n    createMovie(movie)\r\n      .then(response => {\r\n        console.log(response);\r\n        setNumberOfMovies(numberOfMovies + 1)\r\n      });\r\n\r\n    fetchAllMovies(); /* */\r\n  }\r\n\r\n\r\n  const movieSearch = (e) => {\r\n\r\n    console.log(search_data.search_text);\r\n\r\n    searchMovie(\"jok\")\r\n      .then(movies => {\r\n        console.log(movies.data);\r\n        setMovies(movies.data);\r\n        setNumberOfMovies(movies.data.length);\r\n\r\n      });\r\n\r\n  }\r\n\r\n\r\n  const fetchAllMovies = () => {\r\n    getAllMovies()\r\n      .then(movies => {\r\n        console.log(movies);\r\n        setMovies(movies);\r\n        setNumberOfMovies(movies.length);\r\n      });\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    getAllMovies()\r\n      .then(movies => {\r\n        console.log(movies)\r\n        setMovies(movies);\r\n        setNumberOfMovies(movies.length)\r\n      });\r\n\r\n\r\n  }, [])\r\n\r\n  const onChangeForm = (e) => {\r\n    if (e.target.name === 'title') {\r\n      movie.title = e.target.value;\r\n    } else if (e.target.name === 'genre') {\r\n      movie.genre = e.target.value;\r\n    } else if (e.target.name === 'director') {\r\n      movie.director = e.target.value;\r\n    } else if (e.target.name === 'release_year') {\r\n      movie.release_year = e.target.value;\r\n    }\r\n    setMovie(movie)\r\n  }\r\n\r\n\r\n  const onChangeForm2 = (e) => {\r\n    if (e.target.name === 'search_text') {\r\n      search_data.search_text = e.target.value;\r\n    }\r\n    setSearch_data(search_data)\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header></Header>\r\n      <div className=\"container mrgnbtm\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8\">\r\n            <CreateMovie\r\n              // user={user}\r\n              movie={movie}\r\n              onChangeForm={onChangeForm}\r\n              createMovie={movieCreate}\r\n            >\r\n            </CreateMovie>\r\n          </div>\r\n          <div className=\"col-md-4\">\r\n            <DisplayBoard\r\n              numberOfMovies={numberOfMovies}\r\n              getAllMovies={fetchAllMovies}\r\n            >\r\n            </DisplayBoard>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row mrgnbtm\">\r\n\r\n        <SearchMovie\r\n          // user={user}\r\n          movie={movie}\r\n          onChangeForm={onChangeForm}\r\n          searchMovie={movieSearch}\r\n        >\r\n        </SearchMovie>\r\n\r\n        {/* <SearchBoard\r\n          // user={user}\r\n          search_data={search_data}\r\n          onChangeForm2={onChangeForm2}\r\n          searchMovies={searchMovie}\r\n        >\r\n        </SearchBoard> */}\r\n\r\n      </div>\r\n      <div className=\"row mrgnbtm\">\r\n        <Movies movies={movies}></Movies>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}